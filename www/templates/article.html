<ion-view hide-nav-bar="false" view-title="Cadulink">
  <ion-content padding="true">
    <!-- sidebar -->
        <!-- ActualitÃ© -->
        <div ng-app="starter.controllers">
          <div ng-controller="AfficherCtrl" class="list card">
                <div class="item item-body">
                    <h1>{{articles.title}}</h1>
                </div>
                <div class="item item-avatar">
                    <img src="img/sebatien.jpg">
                    <a ui-sref="app.profil({personId: articles.authorId})">par {{getAuthor(articles)}}</a>
                    <p>le {{articles.date}}</p>
                </div>
                <div class="item item-body">
                    <div ng-bind-html="articles.content"></div>
                </div>
          </div>
          <div ng-controller="CommentCtrl">
              <div id="comments" class="item item-text-wrap">
                <h2>Commentaires</h2>
                <hr>

            <div class="item item-text-wrap" ng-repeat="comment in comments" name="comment">
              <img class='float-left-img' src="{{getImage(comment)}}">


              <div class='float-right'>
                <div ng-if="userId == comment.authorId" class='floating_right'>
                    <button  ui-sref='app.deleteComment({commentDeleteId: comment.id})'>Delete</button>
                    <button  ng-click="switchEdit(comment.id)">Edit</button>
                </div>
                <a ui-sref="profil({personId: articles.authorId})">par {{getAuthor(comment)}}</a>


                  <hr>

                <div ng-if="idEdit != comment.id" class='float-left'ng-bind-html="comment.content"></div>

                <div ng-if="idEdit == comment.id">
                  <input id='inputComment' type="text" ng-model="comment.content"/>
                  <button type='button' ng-click="editComment(comment.id)">valider</button>
                </div>
              </div>


            </div>
            <button ng-click="switch()" class="buttonArticle">Ajouter un commentaire</button>
          </div>
        </div>
      </div>
    </ion-content>
</ion-view>
